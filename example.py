import mapper
heatmap=mapper.HeatMap()
# #построить рандомную карту 
heatmap.example(show=True,info=True,validation=True,borders_smooth=True,coef=100, savejson=True)



b1=[[38.320908920265374, 44.804199031579394], [38.32070802704981, 44.80280195746109], [38.31983277608082, 44.80250353325786], [38.31963414218973, 44.800314300374694], [38.319327824543, 44.79875384778615], [38.31949042409535, 44.798351400547816], [38.320869090311646, 44.798251952110434], [38.321375050817906, 44.79927702148068], [38.32238788517998, 44.80166837840979], [38.32161516066009, 44.80180528747301], [38.321538840650156, 44.80345451255993], [38.320908920265374, 44.804199031579394]]
b2=[[38.325028129599445, 44.801244059395145], [38.324053590364436, 44.80125569721126], [38.32253024027987, 44.80156672143066], [38.32044022536299, 44.79713720648287], [38.32236868182294, 44.79713375238517], [38.322932643307745, 44.7986287318651], [38.32252876318088, 44.798831590575766], [38.322542038101325, 44.79900504491131], [38.32368606505626, 44.798828150388616], [38.325807058097105, 44.80111160795484], [38.325723436848776, 44.80139810501211], [38.32500475949873, 44.80141762291188], [38.325028129599445, 44.801244059395145]]

comb=mapper.CombiMap()
union_border=comb.connect_all_polygons(b1,b2)
coordinates={'1':[38.320908920265374, 44.804199031579394],'2':[38.32253024027987, 44.80156672143066],'3':[38.31963414218973, 44.800314300374694],'4':[38.32252876318088, 44.798831590575766]}
values={'1':6,'2':3,'3':1,'4':6}
geojson=heatmap.map_calc(coordinates, values,union_border,show=True)
# print(u)
